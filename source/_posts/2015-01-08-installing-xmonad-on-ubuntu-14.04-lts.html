---
title: "Installing xmonad on Ubuntu 14.04 LTS"
date: 2015-01-08
layout: post
categories: ubuntu
published: true
comments: 
---
<p>
After seeing with my own eyes how rapidly the very minimal the <a href="http://xmonad.org/">xmonad
windowing manager</a> starts up after logging in, I decided to upgrade an
old Linux box I have at the office that is running Ubuntu 14.04 LTS
(Trusy Tahr).
</p>

<p>
<!-- more -->
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">David Brewer's Easy Installation</h2>
<div class="outline-text-2" id="text-1">
<p>
David Brewer's <a href="https://github.com/davidbrewer/xmonad-ubuntu-conf">xmonad-ubuntu-conf</a> is really well-documented and it is
what my buddy at work based his setup on.  I started by forking
David's repository so that I could maintain serveral branches online
(one for each Linux box I install xmonad on).
</p>

<p>
After that, you just clone the repository out to <code>$HOME/.xmonad</code> and
run this command:
</p>

<div class="org-src-container">

<pre class="src src-sh">~/.xmonad/install-xmonad
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Keyboard Tweaks</h2>
<div class="outline-text-2" id="text-2">
<p>
I'm using a really nice and solid <a href="http://www.pckeyboard.com/">IBM Model M Keyboard</a> for my Linux
box.  It has no <i>Super</i> key and you <i>really</i> need one with xmonad.
</p>

<p>
I wanted to remap my <i>Alt</i> key on the right-hand side of the spacebar
as the <i>Super</i> key.  I found instructions <a href="http://askubuntu.com/questions/70931/how-to-set-right-alt-to-work-as-a-winsuper-key">here</a>:
</p>

<p>
Basically just edit <code>$HOME/.Xmodmap</code> (you may not already have this
file) and add the following:
</p>

<pre class="example">
! Free up Right-Alt for remapping
remove mod1 = Alt_R

! Remap Right-Alt to Super
clear mod4
keycode 108 = Super_R
add mod4 = Super_R
</pre>

<p>
Then just log out and back in again.
</p>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Desktop Backgrounds</h2>
<div class="outline-text-2" id="text-3">
<p>
This involves two steps.  The first it to select and save them, the
second is restore when you log in.  The <i>nitrogen</i> command is used to
do both.
</p>
</div>

<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1">Selecting and Saving</h3>
<div class="outline-text-3" id="text-3-1">
<p>
Start <i>nitrogen</i> as follows:
</p>

<div class="org-src-container">

<pre class="src src-sh">nitrogen --save &lt;path-to-pictures-directory&gt;
</pre>
</div>

<p>
Select the picture or pictures (if you have multiple desktops) that
you want.  Then exit the program.
</p>
</div>
</div>

<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2">Restoring Desktop when you Log in</h3>
<div class="outline-text-3" id="text-3-2">
<p>
Edit the file <code>$HOME/.xinitrc</code> (it may not already exist).
</p>

<p>
Add the following:
</p>

<pre class="example">
nitrogen --restore &amp;
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">Fixing the stalonetray with Dual Monitors</h2>
<div class="outline-text-2" id="text-4">
<p>
The <i>stalonetray</i> goes in the upper-right corner of the window.  On my
machine, with dual monitors, all my menu-bar stuff <i>except</i> for that
was on the left monitor.  The <i>stalonetray</i> was at the upper-right
corner of the right monitor and there was a little gray box in the
upper-right corner if the left monitor where it should have been.
</p>

<p>
Fixing this is easy.  First, determine the number of x-pixels in your
monitors.  I found this out by running the <i>Displays</i> app.  My
monitors are <code>1680x1050</code>.
</p>

<p>
Now edit the file <code>$HOME/.xmonad/start-xmonad</code>.  Search for
"stalonetray".  Edit the <code>--geometry</code> setting.  
</p>

<p>
Mine <code>--geometry</code> setting had this value originally:
</p>

<pre class="example">
--geometry 5x1-0+0
</pre>

<p>
I changed it to ths:
</p>

<pre class="example">
--geometry 5x1-1680+0
</pre>

<p>
Restart <i>xmonad</i> and you are good to go.
</p>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5">xmonad default bindings</h2>
<div class="outline-text-2" id="text-5">
<p>
Print out <a href="https://www.haskell.org/haskellwiki/File:Xmbindings.png">this PNG file</a>.
</p>
</div>
</div>
